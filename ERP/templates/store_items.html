<!DOCTYPE html>
<html>
<head>
    <title>Seller Items</title>
    <style>

        /* Modal container */
.modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
}

/* Modal content */
.modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 600px;
}

/* Close button */
.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}
         /*=============== GOOGLE FONTS ===============*/
@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap");
/*=============== VARIABLES CSS ===============*/
:root {
--header-height: 3.5rem;
/*========== Colors ==========*/
/*Color mode HSL(hue, saturation, lightness)*/
--first-color: hsl(220, 68%, 54%);
--first-color-lighten: hsl(220, 68%, 97%);
--title-color: hsl(220, 48%, 28%);
--text-color: hsl(220, 12%, 45%);
--body-color: hsl(220, 100%, 99%);
/*========== Font and typography ==========*/
/*.5rem = 8px | 1rem = 16px ...*/
--body-font: "Poppins", sans-serif;
--normal-font-size: .938rem;
--small-font-size: .813rem;
--smaller-font-size: .75rem;
/*========== Font weight ==========*/
--font-medium: 500;
--font-semi-bold: 600;
/*========== z index ==========*/
--z-tooltip: 10;
--z-fixed: 100;
}
@media screen and (min-width: 1024px) {
:root {
--normal-font-size: 1rem;
--small-font-size: .875rem;
--smaller-font-size: .813rem;
}
}

/*=============== BASE ===============*/
* {
box-sizing: border-box;
padding: 0;
margin: 0;
}

body {
font-family: var(--body-font);
font-size: var(--normal-font-size);
background-color: var(--body-color);
color: var(--text-color);
}

ul {
list-style: none;
}

a {
text-decoration: none;
}

/*=============== REUSABLE CSS CLASSES ===============*/
.container {
max-width: 1120px;
margin-inline: 1.5rem;
}

/*=============== HEADER ===============*/
.header {
position: fixed;
top: 0;
left: 0;
width: 100%;
box-shadow: 0 2px 8px hsla(220, 68%, 12%, 0.1);
background-color: var(--body-color);
z-index: var(--z-fixed);
}

/*=============== NAV ===============*/
.nav {
height: var(--header-height);
}
.nav__data {
height: 100%;
display: flex;
justify-content: space-between;
align-items: center;
}
.nav__logo {
display: inline-flex;
align-items: center;
column-gap: 0.25rem;
color: var(--title-color);
font-weight: var(--font-semi-bold);
transition: color 0.3s;
}
.nav__logo i {
font-size: 1.25rem;
}
.nav__logo:hover {
color: var(--first-color);
}
.nav__toggle {
position: relative;
width: 32px;
height: 32px;
}
.nav__toggle-menu, .nav__toggle-close {
font-size: 1.25rem;
color: var(--title-color);
position: absolute;
display: grid;
place-items: center;
inset: 0;
cursor: pointer;
transition: opacity 0.1s, transform 0.4s;
}
.nav__toggle-close {
opacity: 0;
}
@media screen and (max-width: 1118px) {
.nav__menu {
background-color: var(--body-color);
position: absolute;
left: 0;
top: 2.5rem;
width: 100%;
height: calc(100vh - 3.5rem);
overflow: auto;
padding-block: 1.5rem 4rem;
pointer-events: none;
opacity: 0;
transition: top 0.4s, opacity 0.3s;
}
.nav__menu::-webkit-scrollbar {
width: 0.5rem;
}
.nav__menu::-webkit-scrollbar-thumb {
background-color: hsl(220, 12%, 70%);
}
}
.nav__link {
color: var(--title-color);
font-weight: var(--font-semi-bold);
padding: 1.25rem 1.5rem;
display: flex;
justify-content: space-between;
align-items: center;
transition: background-color 0.3s;
}
.nav__link:hover {
background-color: var(--first-color-lighten);
}

/* Show menu */
.show-menu {
opacity: 1;
top: 3.5rem;
pointer-events: initial;
}

/* Show icon */
.show-icon .nav__toggle-menu {
opacity: 0;
transform: rotate(90deg);
}

.show-icon .nav__toggle-close {
opacity: 1;
transform: rotate(90deg);
}

/*=============== DROPDOWN ===============*/
.dropdown__button {
cursor: pointer;
}
.dropdown__arrow {
font-size: 1.5rem;
font-weight: initial;
transition: transform 0.4s;
}
.dropdown__content, .dropdown__group, .dropdown__list {
display: grid;
}
.dropdown__container {
background-color: var(--first-color-lighten);
height: 0;
overflow: hidden;
transition: height 0.4s;
}
.dropdown__content {
row-gap: 1.75rem;
}
.dropdown__group {
padding-left: 2.5rem;
row-gap: 0.5rem;
}
.dropdown__group:first-child {
margin-top: 1.25rem;
}
.dropdown__group:last-child {
margin-bottom: 1.25rem;
}
.dropdown__icon i {
font-size: 1.25rem;
color: var(--first-color);
}
.dropdown__title {
font-size: var(--small-font-size);
font-weight: var(--font-semi-bold);
color: var(--title-color);
}
.dropdown__list {
row-gap: 0.25rem;
}
.dropdown__link {
font-size: var(--smaller-font-size);
font-weight: var(--font-medium);
color: var(--text-color);
transition: color 0.3s;
}
.dropdown__link:hover {
color: var(--title-color);
}

/* Rotate dropdown icon */
.show-dropdown .dropdown__arrow {
transform: rotate(180deg);
}

/*=============== BREAKPOINTS ===============*/
/* For small devices */
@media screen and (max-width: 300px) {
.dropdown__group {
padding-left: 1.5rem;
}
}
/* For large devices */
@media screen and (min-width: 1118px) {
/* Nav */
.nav {
height: calc(var(--header-height) + 2rem);
display: flex;
justify-content: space-between;
}
.nav__toggle {
display: none;
}
.nav__list {
display: flex;
column-gap: 3rem;
height: 100%;
}
.nav li {
display: flex;
}
.nav__link {
padding: 0;
}
.nav__link:hover {
background-color: initial;
}
/* Dropdown */
.dropdown__button {
column-gap: 0.25rem;
pointer-events: none;
}
.dropdown__container {
height: max-content;
position: absolute;
left: 0;
right: 0;
top: 6.5rem;
background-color: var(--body-color);
box-shadow: 0 6px 8px hsla(220, 68%, 12%, 0.05);
pointer-events: none;
opacity: 0;
transition: top 0.4s, opacity 0.3s;
}
.dropdown__content {
grid-template-columns: repeat(4, max-content);
column-gap: 6rem;
max-width: 1120px;
margin-inline: auto;
}
.dropdown__group {
padding: 4rem 0;
align-content: baseline;
row-gap: 1.25rem;
}
.dropdown__group:first-child, .dropdown__group:last-child {
margin: 0;
}
.dropdown__list {
row-gap: 0.75rem;
}
.dropdown__icon {
width: 60px;
height: 60px;
background-color: var(--first-color-lighten);
border-radius: 50%;
display: grid;
place-items: center;
margin-bottom: 1rem;
}
.dropdown__icon i {
font-size: 2rem;
}
.dropdown__title {
font-size: var(--normal-font-size);
}
.dropdown__link {
font-size: var(--small-font-size);
}
.dropdown__link:hover {
color: var(--first-color);
}
.dropdown__item {
cursor: pointer;
}
.dropdown__item:hover .dropdown__arrow {
transform: rotate(180deg);
}
.dropdown__item:hover > .dropdown__container {
top: 5.5rem;
opacity: 1;
pointer-events: initial;
cursor: initial;
}
}
@media screen and (min-width: 1152px) {
.container {
margin-inline: auto;
}
}
    </style>
<title>Responsive navigation bar - Bedimcode</title>
</head>

      <body>
        <!--=============== HEADER ===============-->
        <header class="header">
            <nav class="nav container">
                <div class="nav__data">
                    <a href="#" class="nav__logo">
                        <i class="ri-code-s-slash-line"></i> CodeBox
                    </a>
    
                    <div class="nav__toggle" id="nav-toggle">
                        <i class="ri-menu-line nav__toggle-menu"></i>
                        <i class="ri-close-line nav__toggle-close"></i>
                    </div>
                </div>

                <!--=============== NAV MENU ===============-->
                <div class="nav__menu" id="nav-menu">
                    <ul class="nav__list">
                        <li>
                            <a href="{% url 'user_groups_announcements' %}" class="nav__link">Home</a>
                        </li>

                        <!--=============== DROPDOWN 1 ===============-->
                        <li class="dropdown__item">                      
                            <div class="nav__link dropdown__button">
                                Data <i class="ri-arrow-down-s-line dropdown__arrow"></i>
                            </div>

                            <div class="dropdown__container">
                                <div class="dropdown__content">
                                    <div class="dropdown__group">
                                        <div class="dropdown__icon">
                                            <i class="ri-flashlight-line"></i>
                                        </div>
                                        <a href="{% url 'todo_list' %}" class="dropdown__title">To-Do List</a>    

                                    </div>
    
                                    <div class="dropdown__group">
                                        <div class="dropdown__icon">
                                            <i class="ri-heart-3-line"></i>
                                        </div>
    
                                        <a href="{% url 'todo_list' %}" class="dropdown__title">Calendar</a> 
    
                                        
                                    </div>
    
                                    <div class="dropdown__group">
                                        <div class="dropdown__icon">
                                            <i class="ri-book-mark-line"></i>
                                        </div>
    
                                        <span class="dropdown__title">Careers</span>
    
                                        
                                    </div>
    
                                    <div class="dropdown__group">
                                        <div class="dropdown__icon">
                                            <i class="ri-file-paper-2-line"></i>
                                        </div>
    
                                        <span class="dropdown__title">Certifications</span>
                                    </div>
                                </div>
                            </div>
                        </li>

                        <!--=============== DROPDOWN 2 ===============-->
                        <li class="dropdown__item">
                            <div class="nav__link dropdown__button">
                                Store <i class="ri-arrow-down-s-line dropdown__arrow"></i>
                            </div>

                            <div class="dropdown__container">
                                <div class="dropdown__content">
                                    <div class="dropdown__group">
                                        <div class="dropdown__icon">
                                            <i class="ri-code-line"></i>
                                        </div>
    
                                        <a href="{% url 'store_view' %}" class="dropdown__title">Book Store</a>   

                                    </div>
    
                                    <div class="dropdown__group">
                                        <div class="dropdown__icon">
                                            <i class="ri-pen-nib-line"></i>
                                        </div>
    
                                        <a href="{% url 'stationary' %}" class="dropdown__title">Stationery</a>   
                                    </div>
    
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <!--=============== DROPDOWN 3 ===============-->
                        <li class="dropdown__item">                        
                            <div class="nav__link dropdown__button">
                                Settings 
                            </div>

                        </li>
                    </ul>
                </div>
            </nav>
            <button id="addBookBtn" class="btn">Add Book</button>
    <h1>Items for Sale</h1>
    <table border="1">
        <tr>
            <th>Item Image</th>
            <th>Item Name</th>
            <th>Price</th>
            <th>Seller Name</th>
            <th>Seller Contact</th>
            <th>UPI ID</th>
            <th>Description</th>
        </tr>
        {% for item in items %}
        <tr>
            <td>
                {% if item.image %}
                    <img src="{{ item.image.url }}" alt="{{ item.itemName }}" width="100" height="100">
                {% else %}
                    <p>No Image</p>
                {% endif %}
            </td>
            <td>{{ item.bookName }}</td>
            <td>{{ item.price }}</td>
            <td>{{ item.seller.name }}</td>
            <td>{{ item.seller.phoneNo }}</td>
            <td>{{ item.seller.upiId }}</td>
            <td>{{ item.desc}}</td>
        </tr>
        {% endfor %}
    </table>
        <!-- Modal Popup for Add Book Form -->
        <div id="addBookModal" class="modal">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Add a New Book</h2>
                <form id="addBookForm" method="post" enctype="multipart/form-data" action="{% url 'store_view' %}">
                    {% csrf_token %}
                    
                    <label for="bookName">Book Name:</label>
                    <input type="text" name="bookName" id="bookName" required>
                    
                    <label for="price">Price:</label>
                    <input type="number" name="price" id="price" step="0.01" required>
                    
                    <label for="image">Image:</label>
                    <input type="file" name="image" id="image" accept="image/*">

                    <label for="description"> Description: </label>
                    <input type="text" name="desc" id="desc" >
                    
                    <button type="submit">Submit</button>
                </form>
            </div>
        </div>
    </body>
    </html>

    <script>
        /*=============== SHOW MENU ===============*/
    const showMenu = (toggleId, navId) =>{
        const toggle = document.getElementById(toggleId),
              nav = document.getElementById(navId)
     
        toggle.addEventListener('click', () =>{
            // Add show-menu class to nav menu
            nav.classList.toggle('show-menu')
            // Add show-icon to show and hide menu icon
            toggle.classList.toggle('show-icon')
        })
     }
     
     showMenu('nav-toggle','nav-menu')
     
     /*=============== SHOW DROPDOWN MENU ===============*/
     const dropdownItems = document.querySelectorAll('.dropdown__item')
     
     // 1. Select each dropdown item
     dropdownItems.forEach((item) =>{
         const dropdownButton = item.querySelector('.dropdown__button') 
     
         // 2. Select each button click
         dropdownButton.addEventListener('click', () =>{
             // 7. Select the current show-dropdown class
             const showDropdown = document.querySelector('.show-dropdown')
             
             // 5. Call the toggleItem function
             toggleItem(item)
     
             // 8. Remove the show-dropdown class from other items
             if(showDropdown && showDropdown!== item){
                 toggleItem(showDropdown)
             }
         })
     })
     
     // 3. Create a function to display the dropdown
     const toggleItem = (item) =>{
         // 3.1. Select each dropdown content
         const dropdownContainer = item.querySelector('.dropdown__container')
     
         // 6. If the same item contains the show-dropdown class, remove
         if(item.classList.contains('show-dropdown')){
             dropdownContainer.removeAttribute('style')
             item.classList.remove('show-dropdown')
         } else{
             // 4. Add the maximum height to the dropdown content and add the show-dropdown class
             dropdownContainer.style.height = dropdownContainer.scrollHeight + 'px'
             item.classList.add('show-dropdown')
         }
     }
     
     /*=============== DELETE DROPDOWN STYLES ===============*/
     const mediaQuery = matchMedia('(min-width: 1118px)'),
           dropdownContainer = document.querySelectorAll('.dropdown__container')
     
     // Function to remove dropdown styles in mobile mode when browser resizes
     const removeStyle = () =>{
         // Validate if the media query reaches 1118px
         if(mediaQuery.matches){
             // Remove the dropdown container height style
             dropdownContainer.forEach((e) =>{
                 e.removeAttribute('style')
             })
     
             // Remove the show-dropdown class from dropdown item
             dropdownItems.forEach((e) =>{
                 e.classList.remove('show-dropdown')
             })
         }
     }
     
     addEventListener('resize', removeStyle)
     
    </script>
    
    <script>
        // Get modal element
        const modal = document.getElementById("addBookModal");
    
        // Get open modal button
        const addBookBtn = document.getElementById("addBookBtn");
    
        // Get close button
        const closeBtn = document.querySelector(".close");
    
        // Listen for open click
        addBookBtn.addEventListener("click", () => {
            modal.style.display = "block";
        });
    
        // Listen for close click
        closeBtn.addEventListener("click", () => {
            modal.style.display = "none";
        });
    
        // Close modal if outside click
        window.addEventListener("click", (e) => {
            if (e.target === modal) {
                modal.style.display = "none";
            }
        });
    </script>
    